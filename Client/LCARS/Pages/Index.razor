@page "/"

@using LCARS.Data

@inject HttpClient Http
@inject AlertState alertState
@inject SettingsService settingsService

<PageTitle>Loading...</PageTitle>

<Loading />

@code {
    protected override async Task OnInitializedAsync()
    {
        var settings = await Http.GetFromJsonAsync<Settings>("settings");
        alertState.SetAlertState("");
        await settingsService.SelectScreen(settings);
    }
}